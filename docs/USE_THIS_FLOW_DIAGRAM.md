# "Use This" Feature - Complete Flow Diagram

## ğŸ¬ User Journey Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     IDEAS PAGE (IdeaLabFeed)                    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TrendCard: "POV: When you discover a viral trend..."   â”‚  â”‚
â”‚  â”‚  Category: Comedy | Platform: TikTok | ğŸ”¥ Hot          â”‚  â”‚
â”‚  â”‚  Engagement: 1.2M | Hashtags: #pov #viral #trending    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  [ğŸ’¾ Save]  [â¤ï¸ Like]  [ğŸ”„ Use This]                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â”‚                                 â”‚
â”‚                        User clicks "Use This"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  VIRAL ANALYSIS MODAL (Loading...)              â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” Analyzing viral pattern...                                 â”‚
â”‚  â€¢ Examining thumbnail with Grok Vision                        â”‚
â”‚  â€¢ Analyzing engagement patterns                               â”‚
â”‚  â€¢ Identifying viral formula                                   â”‚
â”‚                                                                 â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘] 80%                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
                    API: POST /api/trends/123/analyze
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BACKEND: viralPatternService.analyzeTrend()        â”‚
â”‚                                                                 â”‚
â”‚  1. Check cache (viral_analyses table)                         â”‚
â”‚     â”œâ”€ Cache HIT (< 7 days old) â†’ Return cached analysis âœ…    â”‚
â”‚     â””â”€ Cache MISS â†’ Continue to step 2                         â”‚
â”‚                                                                 â”‚
â”‚  2. Fetch trend data from database                             â”‚
â”‚     â€¢ Title, description, hashtags, audio, engagement          â”‚
â”‚     â€¢ Thumbnail URL (if available)                             â”‚
â”‚                                                                 â”‚
â”‚  3. Call OpenRouter Grok Vision API                            â”‚
â”‚     Prompt Structure:                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚     â”‚ You are an expert viral content analyst...          â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ CONTENT DETAILS:                                     â”‚  â”‚
â”‚     â”‚ Title: {title}                                       â”‚  â”‚
â”‚     â”‚ Platform: {platform}                                 â”‚  â”‚
â”‚     â”‚ Hashtags: {hashtags}                                 â”‚  â”‚
â”‚     â”‚ [THUMBNAIL IMAGE ATTACHED]                           â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ ANALYSIS FRAMEWORK:                                  â”‚  â”‚
â”‚     â”‚ 1. Content Structure Breakdown                       â”‚  â”‚
â”‚     â”‚    - Hook/Opening strategy                           â”‚  â”‚
â”‚     â”‚    - Content format type                             â”‚  â”‚
â”‚     â”‚    - Pacing patterns                                 â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 2. Visual & Thumbnail Strategy                       â”‚  â”‚
â”‚     â”‚    - Composition elements                            â”‚  â”‚
â”‚     â”‚    - Color psychology                                â”‚  â”‚
â”‚     â”‚    - Scroll-stopping factors                         â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 3. Engagement Analysis                               â”‚  â”‚
â”‚     â”‚    - Emotional triggers                              â”‚  â”‚
â”‚     â”‚    - CTA effectiveness                               â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 4. Platform-Specific Optimization                    â”‚  â”‚
â”‚     â”‚    - Algorithm preferences                           â”‚  â”‚
â”‚     â”‚    - Audio/music strategy                            â”‚  â”‚
â”‚     â”‚    - Hashtag strategy                                â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 5. Pattern Identification                            â”‚  â”‚
â”‚     â”‚    - Viral pattern type                              â”‚  â”‚
â”‚     â”‚    - Timing strategies                               â”‚  â”‚
â”‚     â”‚    - Replicable elements                             â”‚  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  4. Parse AI response into structured data                     â”‚
â”‚     â€¢ Extract: whyItWorks, patternType, keyTakeaways          â”‚
â”‚     â€¢ Extract: thumbnailAnalysis, audioStrategy, hashtags     â”‚
â”‚                                                                 â”‚
â”‚  5. Save to database (7-day cache)                             â”‚
â”‚     INSERT INTO viral_analyses (...)                           â”‚
â”‚     SET expires_at = NOW() + INTERVAL '7 days'                â”‚
â”‚                                                                 â”‚
â”‚  6. Return ViralAnalysis object                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VIRAL ANALYSIS MODAL (Results Display)             â”‚
â”‚                                                                 â”‚
â”‚  âœ… Viral Pattern Analysis Complete!                           â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š WHY IT WORKS:                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  This POV format leverages relatability and humor to create    â”‚
â”‚  instant connection. The hook grabs attention in 0.5 seconds   â”‚
â”‚  with a surprising visual element combined with trending       â”‚
â”‚  audio that triggers emotional response...                     â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¯ PATTERN TYPE: POV Format + Trending Audio                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”‘ KEY TAKEAWAYS:                                             â”‚
â”‚  â€¢ Use exaggerated facial expressions in first frame          â”‚
â”‚  â€¢ Layer trending audio with strong emotional hook            â”‚
â”‚  â€¢ Text overlay should be minimal but bold (3-5 words max)    â”‚
â”‚  â€¢ Post during peak hours (6-9 PM local time)                 â”‚
â”‚  â€¢ Hashtag mix: 2 trending + 2 niche + 1 branded             â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ Want personalized advice for YOUR content?          â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ [Optional] Describe your content idea:                 â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚ â”‚ I want to create fitness content about...       â”‚   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ [Skip]  [Get My Custom Strategy â†’]                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
                User clicks "Get My Custom Strategy"
                                â†“
                API: POST /api/trends/123/apply
                Body: { userContentConcept: "fitness content..." }
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        BACKEND: viralPatternService.generatePersonalizedAdvice()â”‚
â”‚                                                                 â”‚
â”‚  1. Get viral analysis (from cache or generate)                â”‚
â”‚                                                                 â”‚
â”‚  2. Fetch user preferences from database                       â”‚
â”‚     â€¢ Niche: "Fitness & Wellness"                             â”‚
â”‚     â€¢ Target Audience: "gen-z"                                â”‚
â”‚     â€¢ Content Style: "educational"                            â”‚
â”‚     â€¢ Best Platforms: ["tiktok", "instagram"]                 â”‚
â”‚                                                                 â”‚
â”‚  3. Call OpenRouter Grok for personalized strategy             â”‚
â”‚     Prompt Structure:                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚     â”‚ You are a viral content strategist...               â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ VIRAL PATTERN ANALYSIS:                              â”‚  â”‚
â”‚     â”‚ {whyItWorks summary}                                 â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ CREATOR PROFILE:                                     â”‚  â”‚
â”‚     â”‚ - Niche: Fitness & Wellness                          â”‚  â”‚
â”‚     â”‚ - Audience: gen-z                                    â”‚  â”‚
â”‚     â”‚ - Style: educational                                 â”‚  â”‚
â”‚     â”‚ - Platforms: TikTok, Instagram                       â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ CREATOR'S CONTENT CONCEPT:                           â”‚  â”‚
â”‚     â”‚ I want to create fitness content about...           â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ CREATE DETAILED IMPLEMENTATION STRATEGY:             â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 1. Platform-Specific Strategy for TikTok            â”‚  â”‚
â”‚     â”‚    - Optimal length: 15-30 seconds                   â”‚  â”‚
â”‚     â”‚    - Posting times: 6-9 PM                           â”‚  â”‚
â”‚     â”‚    - Hashtag strategy                                â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 2. Content Creation Templates                        â”‚  â”‚
â”‚     â”‚    - Hook template (first 3 seconds)                 â”‚  â”‚
â”‚     â”‚    - Story structure framework                       â”‚  â”‚
â”‚     â”‚    - Visual composition                              â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 3. Timing Recommendations                            â”‚  â”‚
â”‚     â”‚    - When to post                                    â”‚  â”‚
â”‚     â”‚    - Release frequency                               â”‚  â”‚
â”‚     â”‚    - Trend lifecycle timing                          â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 4. Step-by-Step Implementation                       â”‚  â”‚
â”‚     â”‚    a. Pre-production checklist                       â”‚  â”‚
â”‚     â”‚    b. Production guidelines                          â”‚  â”‚
â”‚     â”‚    c. Editing tips                                   â”‚  â”‚
â”‚     â”‚    d. Publishing strategy                            â”‚  â”‚
â”‚     â”‚    e. Post-publish monitoring                        â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 5. Adaptation Guidelines                             â”‚  â”‚
â”‚     â”‚    - Keep: POV format, trending audio               â”‚  â”‚
â”‚     â”‚    - Customize: Fitness niche angle                 â”‚  â”‚
â”‚     â”‚    - Maintain: Educational authenticity             â”‚  â”‚
â”‚     â”‚                                                       â”‚  â”‚
â”‚     â”‚ 6. Success Metrics                                   â”‚  â”‚
â”‚     â”‚    - KPIs to track                                   â”‚  â”‚
â”‚     â”‚    - Benchmarks                                      â”‚  â”‚
â”‚     â”‚    - Iteration signals                               â”‚  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  4. Save to database                                           â”‚
â”‚     INSERT INTO trend_applications (                           â”‚
â”‚       user_id, trend_id, analysis_id,                          â”‚
â”‚       user_content_concept, personalized_advice                â”‚
â”‚     )                                                           â”‚
â”‚                                                                 â”‚
â”‚  5. Return TrendApplication object                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           IMPLEMENTATION STRATEGY VIEW (Full Screen)            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¯ YOUR PERSONALIZED VIRAL STRATEGY                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“± PLATFORM-SPECIFIC STRATEGY FOR TIKTOK                      â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚  âœ“ Video Length: 15-30 seconds (fitness content sweet spot)   â”‚
â”‚  âœ“ Best Posting Times: 6-9 PM ET (when Gen-Z is active)       â”‚
â”‚  âœ“ Hashtag Formula:                                            â”‚
â”‚    â€¢ #fitness #gymmotivation (trending)                        â”‚
â”‚    â€¢ #fitnesstips #wellness (niche)                           â”‚
â”‚    â€¢ #YourBrandName (branded)                                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¬ CONTENT CREATION TEMPLATE                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚  Hook Template (First 3 Seconds):                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ POV: You just learned [fitness myth is wrong]          â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Visual: Exaggerated shocked expression                 â”‚   â”‚
â”‚  â”‚ Text Overlay: "WAIT... WHAT?!" (bold, yellow)          â”‚   â”‚
â”‚  â”‚ Audio: [Trending sound with strong beat drop]          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  Story Structure:                                              â”‚
â”‚  0-3s  â†’ Hook (grab attention)                                â”‚
â”‚  3-10s â†’ Problem (relatable fitness struggle)                 â”‚
â”‚  10-25s â†’ Solution (your educational tip)                      â”‚
â”‚  25-30s â†’ CTA (follow for more)                               â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“… TIMING RECOMMENDATIONS                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚  â€¢ Post Monday, Wednesday, Friday (consistency is key)         â”‚
â”‚  â€¢ Release 3-5 videos per week                                â”‚
â”‚  â€¢ Ride trend wave: Create within 24-48 hours of discovery    â”‚
â”‚                                                                 â”‚
â”‚  âœ… STEP-BY-STEP IMPLEMENTATION                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚                                                                 â”‚
â”‚  â–¡ PRE-PRODUCTION CHECKLIST                                    â”‚
â”‚    â–¡ Find trending audio with 10K+ uses                       â”‚
â”‚    â–¡ Script your 3-second hook                                â”‚
â”‚    â–¡ Plan visual composition (rule of thirds)                 â”‚
â”‚    â–¡ Set up good lighting (natural or ring light)             â”‚
â”‚                                                                 â”‚
â”‚  â–¡ PRODUCTION GUIDELINES                                       â”‚
â”‚    â–¡ Record 3-5 takes of hook for best expression             â”‚
â”‚    â–¡ Maintain eye contact with camera                         â”‚
â”‚    â–¡ Use text overlay sparingly (3-5 words max)               â”‚
â”‚    â–¡ Keep energy high throughout                              â”‚
â”‚                                                                 â”‚
â”‚  â–¡ EDITING & OPTIMIZATION                                      â”‚
â”‚    â–¡ Cut first 0.5 seconds if no movement                     â”‚
â”‚    â–¡ Add trending audio at precise moment                      â”‚
â”‚    â–¡ Include captions for accessibility                        â”‚
â”‚    â–¡ End with clear CTA                                        â”‚
â”‚                                                                 â”‚
â”‚  â–¡ PUBLISHING STRATEGY                                         â”‚
â”‚    â–¡ Post at 6-9 PM ET                                        â”‚
â”‚    â–¡ Caption: Question + value prop (2 sentences max)         â”‚
â”‚    â–¡ Include 5 hashtags (2 trend + 2 niche + 1 brand)        â”‚
â”‚    â–¡ Reply to first 10 comments within 30 minutes             â”‚
â”‚                                                                 â”‚
â”‚  â–¡ POST-PUBLISH MONITORING                                     â”‚
â”‚    â–¡ Track first hour performance                             â”‚
â”‚    â–¡ Engage with comments actively                            â”‚
â”‚    â–¡ Analyze what worked/didn't work                          â”‚
â”‚    â–¡ Iterate for next video                                   â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ ADAPTATION GUIDELINES                                      â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚                                                                 â”‚
â”‚  âœ… KEEP EXACTLY:                                              â”‚
â”‚  â€¢ POV format structure                                        â”‚
â”‚  â€¢ Trending audio (don't modify)                              â”‚
â”‚  â€¢ Hook timing (grab attention in 0.5s)                        â”‚
â”‚  â€¢ Text overlay style (bold, minimal)                          â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”„ CUSTOMIZE FOR FITNESS NICHE:                               â”‚
â”‚  â€¢ Replace comedy angle with educational value                â”‚
â”‚  â€¢ Show real fitness demonstrations                           â”‚
â”‚  â€¢ Add credibility markers (certifications, results)          â”‚
â”‚  â€¢ Maintain authentic, encouraging tone                        â”‚
â”‚                                                                 â”‚
â”‚  ğŸš« RED FLAGS TO AVOID:                                        â”‚
â”‚  â€¢ Don't force trending audio if doesn't fit                  â”‚
â”‚  â€¢ Avoid clickbait without delivering value                   â”‚
â”‚  â€¢ Don't copy exact same video (algorithm penalty)            â”‚
â”‚  â€¢ Never sacrifice authenticity for virality                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š SUCCESS METRICS TO TRACK                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚                                                                 â”‚
â”‚  Key Performance Indicators:                                   â”‚
â”‚  â€¢ Watch time (target: >50% completion rate)                  â”‚
â”‚  â€¢ Engagement rate (target: >5% for fitness content)          â”‚
â”‚  â€¢ Share rate (indicates value delivery)                      â”‚
â”‚  â€¢ Follower conversion (quality over quantity)                â”‚
â”‚                                                                 â”‚
â”‚  Benchmarks for Fitness POV Content:                           â”‚
â”‚  â€¢ Good: 10K-50K views, 500+ likes                            â”‚
â”‚  â€¢ Great: 50K-200K views, 2K+ likes                           â”‚
â”‚  â€¢ Viral: 200K+ views, 10K+ likes                             â”‚
â”‚                                                                 â”‚
â”‚  When to Iterate vs. Pivot:                                    â”‚
â”‚  â€¢ Iterate: 3-5 videos with same format, low views           â”‚
â”‚  â€¢ Pivot: Format tested 10+ times with no traction           â”‚
â”‚  â€¢ Double down: Any video exceeds 50K views                   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                 â”‚
â”‚  [Was this helpful? ğŸ‘ Yes | ğŸ‘ No]                           â”‚
â”‚  [ğŸ’¾ Save Strategy]  [ğŸ“‹ Copy to Clipboard]  [âœ‰ï¸ Email]       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚
â”‚  (React)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST /api/trends/123/analyze
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Express Routes                          â”‚
â”‚  /api/trends/:id/analyze                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ viralPatternService.analyzeTrend(123)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ViralPatternService                           â”‚
â”‚                                                          â”‚
â”‚  1. Check Cache â”€â”€â”€â†’ storage.getViralAnalysisByTrendId() â”‚
â”‚     â†“ (miss)                                             â”‚
â”‚  2. Get Trend â”€â”€â”€â”€â”€â†’ storage.getTrend(123)               â”‚
â”‚     â†“                                                     â”‚
â”‚  3. AI Analysis â”€â”€â†’ openRouterService.analyzeContent()   â”‚
â”‚     â†“                                                     â”‚
â”‚  4. Save Cache â”€â”€â”€â†’ storage.createViralAnalysis()        â”‚
â”‚     â†“                                                     â”‚
â”‚  5. Return Result                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ ViralAnalysis object
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  OpenRouter API                          â”‚
â”‚  Model: x-ai/grok-2-vision-1212                         â”‚
â”‚  Input: Thumbnail + Metadata + Analysis Prompt          â”‚
â”‚  Output: Structured viral pattern analysis              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PostgreSQL Database                           â”‚
â”‚                                                          â”‚
â”‚  viral_analyses table:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ id: 1                                              â”‚ â”‚
â”‚  â”‚ trend_id: 123                                      â”‚ â”‚
â”‚  â”‚ why_it_works: "This POV format leverages..."      â”‚ â”‚
â”‚  â”‚ pattern_type: "POV + Trending Audio"              â”‚ â”‚
â”‚  â”‚ key_takeaways: ["Use exaggerated...", "Layer..."] â”‚ â”‚
â”‚  â”‚ expires_at: 2025-10-12 09:00:00                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° Cost Flow Diagram

```
User Request
     â†“
Check Cache
     â†“
â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚         â”‚
âœ… HIT    âŒ MISS
â”‚         â”‚
â”‚         â†“
â”‚    Call OpenRouter
â”‚    ($0.03-0.05)
â”‚         â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â†“
Cache for 7 days
     â†“
Return to User

Expected Cache Hit Rate: 90%+
Monthly Cost (1000 users):
- 1000 unique trends analyzed
- 900 cache hits (free)
- 100 API calls Ã— $0.04 = $4
- Total: ~$4-10/month (vs $270 without caching)
```

---

## ğŸ” Authentication Flow

```
User clicks "Use This"
     â†“
Analyze Trend (Public endpoint - no auth required)
     â†“
Display Analysis
     â†“
User clicks "Get My Custom Strategy"
     â†“
Check Auth Token
     â†“
â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚         â”‚
âœ… Valid  âŒ Invalid
â”‚         â”‚
â”‚         â†“
â”‚    Redirect to Login
â”‚         â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â†“
Fetch User Preferences
     â†“
Generate Personalized Strategy
     â†“
Save to trend_applications
     â†“
Return Implementation Guide
```

---

## ğŸ“Š Database Relationships

```
users
  â”‚
  â”‚ 1:1
  â†“
user_preferences
  (niche, audience, style)
  â”‚
  â”‚ Used for personalization
  â†“
trend_applications
  â”‚
  â”‚ Many:1
  â†“
viral_analyses
  â”‚
  â”‚ 1:1
  â†“
trends
```

---

## âš¡ Performance Optimization Strategy

```
Request Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Frontend Request
   â””â”€â†’ Check Browser Cache (future: LocalStorage)
       â”œâ”€â†’ HIT: Return instantly
       â””â”€â†’ MISS: Continue to server

2. Server Request
   â””â”€â†’ Check Database Cache (viral_analyses)
       â”œâ”€â†’ HIT (< 7 days): Return in ~50ms
       â””â”€â†’ MISS: Continue to AI

3. AI Analysis
   â””â”€â†’ Call OpenRouter (~2-5 seconds)
       â””â”€â†’ Parse & Save to DB
           â””â”€â†’ Return to user

Total Time:
- Cache HIT: 50-100ms
- Cache MISS: 2-5 seconds

Cost Reduction:
- Without cache: $0.27 Ã— 1000 = $270/month
- With 90% cache: $0.04 Ã— 100 = $4/month
- Savings: $266/month (98.5% reduction)
```

---

## ğŸ¨ UI Component Hierarchy (Future Frontend)

```
<IdeaLabFeed>
  â”‚
  â”œâ”€â†’ <TrendCard> (many)
  â”‚     â””â”€â†’ Button: "Use This" (onClick â†’ openViralAnalysisModal)
  â”‚
  â””â”€â†’ <ViralAnalysisModal>
        â”‚
        â”œâ”€â†’ <LoadingState>
        â”‚     â””â”€â†’ "Analyzing viral pattern..."
        â”‚
        â”œâ”€â†’ <AnalysisResults>
        â”‚     â”œâ”€â†’ <WhyItWorks />
        â”‚     â”œâ”€â†’ <PatternType />
        â”‚     â”œâ”€â†’ <KeyTakeaways />
        â”‚     â””â”€â†’ <GetStrategyButton />
        â”‚
        â””â”€â†’ <ImplementationStrategyView>
              â”œâ”€â†’ <PlatformStrategy />
              â”œâ”€â†’ <ContentTemplates />
              â”œâ”€â†’ <TimingRecommendations />
              â”œâ”€â†’ <StepByStepChecklist />
              â”œâ”€â†’ <AdaptationGuidelines />
              â”œâ”€â†’ <SuccessMetrics />
              â””â”€â†’ <ActionButtons>
                    â”œâ”€â†’ [Was this helpful?]
                    â”œâ”€â†’ [Save Strategy]
                    â”œâ”€â†’ [Copy to Clipboard]
                    â””â”€â†’ [Email Strategy]
```

---

## ğŸ”® Future Enhancement: Multi-Agent Flow

Based on CrewAI screenshot, future migration to multi-agent architecture:

```
Sequential Crew Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Discover Viral Content Agent
   â””â”€â†’ Search TikTok/YouTube/Instagram for viral content
       Output: List of 10-15 viral posts

2. Analyze YouTube Videos Agent
   â””â”€â†’ Deep analysis of viral videos
       Output: Content structure, engagement patterns, titles

3. Identify Viral Patterns Agent
   â””â”€â†’ Cross-platform pattern recognition
       Output: 5-10 key viral patterns with trends

4. Create Implementation Strategy Agent
   â””â”€â†’ Actionable strategy guide
       Output: Platform-specific tactics, templates, timing

Benefits:
- Specialized agents for each task
- Better accuracy through focused roles
- Agent memory and collaboration
- Easier to debug and optimize
```

---

**END OF FLOW DIAGRAM**

This comprehensive flow shows:
- âœ… Complete user journey from click to strategy
- âœ… Backend processing with caching
- âœ… AI prompt structures
- âœ… Cost optimization flow
- âœ… Database relationships
- âœ… Future UI component hierarchy
- âœ… Multi-agent migration path
